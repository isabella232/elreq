<!DOCTYPE html>
<html>
<head>
  <title>A Document Model for Zaima Chant</title>
  <meta charset="utf-8" />
  <meta name="description" content="How to use CSS styling to support ruby text for Asian languages." />
<script type="text/javascript">
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'articles/zaima'+'/'; // the path to this file, not including /International or the file name
f.filename = 'styling'; // the file name WITHOUT extensions
f.authors = 'Daniel Yacob, GFF'; // author(s) and affiliations
f.previousauthors = ''; // as above
f.modifiers = ''; // people making substantive changes, and their affiliation
f.searchString = 'article-zaima-styling'; // blog search string - usually the filename without extensions
f.firstPubDate = '2017-10-01'; // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2017-10-10', time:'11:23'}  // date and time of latest substantive changes to this document
f.status = 'draft';  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2017-10-07', time:'11:23'} // date and time of latest edits to this document/translation
f.contributors = ''; // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!

// TRANSLATORS should fill in these assignments:
f.translators = 'xxxNAME, ORG'; // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'markup';

f.additionalLinks = ''
</script>
<style>
  .figure-wide { margin-right: 10%; }
ruby { font-size: 50px; color: rgb(102, 102, 102); font-family: "Abyssinica SIL", "ms mincho", stsong, 'lisong pro';  }
.diret_difat {
  position: relative;
  top: 0px;
}
.diret_difat:before {
  content: "᎔";
}
.diret_difat:after { 
  position: absolute;;
  bottom: 2px;
  left:  0px;
  content: "᎑";
}
  script { display: inline-block; white-space: pre-wrap; }
</style>
<link rel="stylesheet" href="zaima-chrome61.css" type="text/css" />
<script type="text/javascript" src="https://www.w3.org/International/questions/qa-ruby-data/translations.js"> </script>
<script type="text/javascript" src="https://www.w3.org/International/javascript/doc-structure/article-dt.js"> </script>
<script type="text/javascript" src="https://www.w3.org/International/javascript/boilerplate-text/boilerplate-en.js"></script><!--TRANSLATORS must change -en to the subtag for their language!-->
<script type="text/javascript" src="https://www.w3.org/International/javascript/doc-structure/article.js"> </script>
<script type="text/javascript" src="https://www.w3.org/International/javascript/articletoc-html5.js"></script>
<link rel="stylesheet" href="https://www.w3.org/International/style/article-2016.css" type="text/css" />
<!-- remove the following local css declaration if there is nothing to add -->
<link rel="stylesheet" href="https://www.w3.org/International/questions/qa-ruby-data/local.css" type="text/css" />
<link rel="copyright" href="#copyright"/>
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<section>
<h1>A Document Model for Zaima Chant</h1>
<p>This article assumes a strong familiarity with W3C markup and styling of Ruby annotation. 
</p>

<section>
<h2>A Pragmatic Model Using Existing Standards</h2>
<p>This section presents a model for Zaima interlinear notation that is compatible with existing W3C standards developed for the
requirements of Ruby annotation. While the objectives for Ruby annotations are entirely different from Zaima chant notations,
the two share common interlinear positioning and alignment needs.  Quite naturally, many requirements for Ruby annotation are not necessary
for Zaima.  Conversely, a number of Zaima layout requirements are not encountered for Ruby annotation.
The following focuses on exploiting Ruby markup, and CSS facilities, to meet the interlinear presentation requirements of Zaima chant.
<section>
<h3>A Pragmatic Model Using Existing Standards</h3>
<p>Ruby and Zaima both share a requirement for the layout of half-scale interlinear text bound to one ore more letters in a line of base text.
A distinctive feature of Zaima notation that immediately distinguishes it from Ruby annotation is the regular occurrence of multiple interlinear
lines, or &ldquo;rows&rdquo;, of text. No upper limit is set on the number of rows a line of base Zaima may have, eight rows however have
been observed in corpus (<cite>አቋቋም፡ዘወርኃ፡በዓላት። <a href="images/AquaquamZewerhaBealat-Page113.jpg">Page 113</a></cite>).</p>

<div class="figWrap">
  <figure>
   <p><img style="vertical-align:top;" src="images/ZaimaModel3Rows.png" width="500px"></p>
   <figcaption>Typical Zaima notation in three rows.</figcaption>
  </figure>
</div>

<p>Multiple levels or Ruby annotation are possible but irregular.  Nested Ruby markup can be used to display additional annotation levels, this
approach assumes some implicit association between the levels.  In Zaima notation, the interlinear rows are fully independent from one another
and the positioning and alignment between the base text and a given row cannot be a function of any other interlinear row. Attempting to apply
the nested Ruby technique to format Zaima notation very shortly leads to complications with <a href="https://en.wikipedia.org/wiki/Overlapping_markup">overlapping markup</a>.</p>

<div class="figWrap">
  <figure>
   <p><img style="vertical-align:top;" src="images/SeparateLayers.png" width="700px"></p>
   <figcaption>Separation of notation rows.</figcaption>
  </figure>
</div>

<p>A model for Zaima notation that is able to avoid the overlap problem treats rows as residing on separate document &ldquo;layers&rdquo;.
Each layer will contain the same base text and marked up with the notation of a single interlinear row. The notation line offset from the base text
is incremented in each layer.  When the layers are viewed together in a projection, the base text of each layer is superimposed upon itself and
the notations appear in successive &ldquo;rows&rdquo;.</p>

<div class="figWrap">
  <figure>
<table>
  <colgroup>
    <col width="500px"/>
    <col width="400px"/>
  </colgroup>
  <tbody>
<tr>
  <td rowspan="4"><img style="vertical-align:top;" src="images/ProjectedLayers.png" width="500px"></td>
  <td height="180px"><strong>Row 3:</strong><br/>
    <pre>
    &lt;ruby&gt;
      &lt;rb&gt;አጽ&lt;/rb&gt;&lt;rt&gt;&lt;/rt&gt;
      &lt;rb&gt;ነ&lt;/rb&gt;&lt;rt style="color: red;"&gt;᎒&lt;/rt&gt;
      &lt;rb&gt;ነ&lt;/rb&gt;&lt;rt style="color: red;"&gt;᎐&lt;/rt&gt;
    &lt;/ruby&gt;
  </pre></td>
</tr>
<tr>
  <td height="170px"><strong>Row 2:</strong><br/>
    <pre>
    &lt;ruby&gt;
      &lt;rb&gt;አ&lt;/rb&gt;&lt;rt&gt;&lt;/rt&gt;
      &lt;rb&gt;ጽነነ&lt;/rb&gt;&lt;rt&gt;ባሕራ&lt;/rt&gt;
    &lt;/ruby&gt;
  </pre></td>
</tr>
<tr>
  <td height="160px"><strong>Row 1:</strong><br/>
    <pre>
    &lt;ruby&gt;
      &lt;rb&gt;አ&lt;/rb&gt;&lt;rt&gt;ቡበ&lt;/rt&gt;
      &lt;rb&gt;ጽነ&lt;/rb&gt;&lt;rt style="text-align: right;"&gt;<span class="diret_difat"></span><span class="diret_difat"></span>&lt;/rt&gt;
      &lt;rb&gt;ነ&lt;/rb&gt;&lt;rt&gt;᎓&lt;/rt&gt;
    &lt;/ruby&gt;
  </pre></td>
</tr>
<tr><td></td></tr>
</tbody>
</table>
   <figcaption>Projection of Zaima notation layers.</figcaption>
  </figure>
</div>


<p>The <a href="https://www.w3.org/Style/CSS/Overview.en.html">W3C Cascading Style Sheets</a> standard provides the means to specify and
position layers. An example applicataion appears in Figure 4:</p>

<figure class="example figure-wide">
<table>
  <colgroup>
    <col width="200px"/>
    <col width="900px"/>
  </colgroup>
  <tbody>
  <tr>
  <td valign="bottom" height="160px">
    <div style="position: relative; top: 300px; margin-left: 40px;">
    <ruby class="row3ex red-miliket">
      <rb>አጽ</rb><rt></rt>
      <rb>ነ</rb><rt>᎒</rt>
      <rb>ነ</rb><rt>᎐</rt>
    </ruby>
    <ruby class="row2ex">
      <rb>አ</rb><rt></rt>
      <rb>ጽነነ</rb><rt>&nbsp;ባሕራ</rt>
    </ruby>
    <ruby class="row1ex">
      <rb>አ</rb><rt>ቡበ</rt>
      <rb>ጽነ</rb><rt style="text-align: right;"><span class="diret_difat"></span><span class="diret_difat"></span></rt>
      <rb>ነ</rb><rt>᎓</rt>
    </ruby>
    </div>
  </td>
  <td><script type="text/plain">
    <div style="position: relative; top: 300px; margin-left: 40px;">
    <ruby style="z-index: 3; bottom: 50px; position: absoute;">
      <rb style="visibility: hidden;">አጽ</rb><rt></rt>
      <rb style="visibility: hidden;">ነ</rb><rt>᎒</rt>
      <rb style="visibility: hidden;">ነ</rb><rt>᎐</rt>
    </ruby>
    <ruby style="z-index: 2; bottom: 25px; position: absoute;">
      <rb style="visibility: hidden;">አ</rb><rt></rt>
      <rb style="visibility: hidden;">ጽነነ</rb><rt>&nbsp;ባሕራ</rt>
    </ruby>
    <ruby style="z-index: 1; bottom:  0px; position: absoute;">
      <rb>አ</rb><rt>ቡበ</rt>
      <rb>ጽነ</rb><rt style="text-align: right;"><span class="diret_difat"></span><span class="diret_difat"></span></rt>
      <rb>ነ</rb><rt>᎓</rt>
    </ruby>
    </div>
  </script></td>
  </tr>
  </tbody>
</table>
   <figcaption>Three layers of Zaima notation projected onto a multi-row realization.</figcaption>
</figure>

<p>Technical note on Figure 4: the markup sample raises the notation by shifting the ruby base <code>bottom</code> position and ruby text
along with it.  A more desirable approach is to change only the <code>bottom</code> position of the notation text
(<code>&lt;rt&gt;</code>).  Moving only the notation  text is supported in Safari v11 and Chrome version 60 and earlier but requires <code>&lt;span&gt;</code>
tags within the <code>&lt;rt&gt;</code> tags to apply the <code>bottom</code> property style to (applying <code>bottom</code> to the <code>&lt;rt&gt;</code> is
ignored, thus the need for the inner <code>&lt;span&gt;</code>). Both appraoches have been applied in use case
documents (<a href="ZaimaUseCases-Chrome60.html">apply <code>bottom</code> property to notation line only</a> , 
<a href="ZaimaUseCases.html">apply <code>bottom</code> property to base</a>). Recommendations for CSS experts are needed here.</p>
</section>

</section>

<section>
<h2>An Independent Model for Zaima Chant</h2>
<p><em>[TBD: Present a highlevel structural overview  (component breakdown) that is compatible with DOM tree.]</em></p>

<div class="figWrap">
  <figure>
   <figcaption>Component view of a Zaima document.</figcaption>
  </figure>
</div>

<p><em>[TBD: From here review the markup requirements for each component individually. 
Suggest a general approach where Zaima may overlap with other chant traditions.
The principle proposed here is to use common tag terminally for the common notional subset,
then specific tags where needed for a given practice. Thus we have a small "Chant Markup Language"
where extension tags produce dialects that support requirements of a specific practice.  Consider
a schema.org extension approach.  Determine what will be the most ammenable to HTML maintainers.
]</em></p>
<em>
<section>
<h3>&lt;chant&gt;</h3>
<p>"chant" is suggested over a more specific, ruby-like, "zaima" tag to keep the tag general purpose for chant</p>
<section>
<h4>class - attribute</h4>
<p> taken from Ruby markup. arbitrary text value, but needs to be easily selectable in css, js, etc.</p>
</section>
</section>

<section>
<h3>&lt;cbase&gt;</h3>
<p>"cbase" for "chant base" (&lt;base&gt; is defined for another context in HTML) is suggested over a more specific, ruby-like, "zb" to keep the tag general purpose for chant</p>
</section>

<section>
<h3>&lt;notation&gt;</h3>
<p>"notation" is suggested over a more specific, ruby-like, "zt" to keep the tag general purpose for chant
(&lt;text&gt; may work as well but seems too general).</p>
</section>

<section>
<h3>&lt;beit&gt;</h3>
<p>beit as a stylized reference marker -has scope, needs boundary markers similar to &lt;section&gt;</p>
</section>

<section>
<h3>&lt;medgam&gt;</h3>
<p>medgam as a stylized reference marker -has complex scope, needs subtags to mark boundaries</p>
</section>

<section>
<h3>&lt;sereyu&gt;</h3>
<p>sereyu as a definition marker, like &lt;dfn&gt; -has complex scope, needs subtags to mark boundaries</p>
</section>

<section>
<h3>&lt;haleita&gt;</h3>
<p>haleita as a stylized reference marker -is &lt;a href="" ... &gt; suitable?</p>
</section>
</em>

<section>
<h3>Sample</h3>
<div style="margin-left: 7.5%;">
  <figure>
   <p style="border: 1px solid black; width: 500px;">
   <img style="vertical-align:top;" src="images/DiguaPage5-Sample.jpg" width="500px" style="border: black 1px solid;">
   </p>
   <figcaption>Digua Page 5 Sample.</figcaption>
  </figure>
</div>
<div style="margin: 7.5%;">
<script type="text/plain">
<style>
.rubricate { color: #8a0707; }
</style>
<div id="sample-container">
<div id="left-margin" style="float:left; width: 200px;">
</div>
<div id="left-margin" style="float: right; width: 800px;">
<chant class="geez">  <!-- all notation will be in Ge'ez mode, setting class to something else in a notation tag would override the value here -->
  <beit>
    <marker>ዑ</marker><dfn>TBD</dfn>
    <haleita><marker>በ<span class="rubricate">፬</span></marker><dfn>TBD</dfn></haleita>
    <cbase>ወ</cbase><notation>᎑</notation>ነ<cbase>ገረ</cbase><notation>ወቃ</notation>፡ስም<cbase>የ</cbase><notation>᎐</notation>፡ዮሐን<cbase>ስ</cbase><notation style="text-align: right;">ር</notation>፡ወይ<cbase>ቢ</cbase><notation>ሊ</notation>፡<cbase>ር</cbase><notation>ሀየ</notation>ኢ<br/>
    <medgam href="#ng1"><marker>፪</marker><cbase>ኩ</cbase><notation>ዋ᎙</notation>፡መን<cbase>ፈ</cbase><notation>ሊ</notation>ስ፡ቅ<cbase>ዱ</cbase><notation>᎖</notation><cbase>ስ</cbase><notation>ነቢ</notation>፡
  <notationGroup id="ng1">
    <group><cbase>ከ</cbase><notation>᎑</notation><cbase>መ</cbase><notation>፡</notation></group>
    <group><cbase>ከ</cbase><notation>ቡር</notation><cbase>መ</cbase><notation>᎖᎔</notation></group>
  </notationGroup>
  ፡<cbase>ር</cbase><notation>᎔</notation>ግብ፡<cbase>ወ</cbase><notation>᎑</notation>ረ<cbase>ደ</cbase><notation>ሉ᎙</notation>፡ክ<br/>
    ማ<cbase>ሁ</cbase><notation>ወቃ</notation>፡ኮ<cbase>ነ</cbase><notation>᎐</notation>፡በቢታን<cbase>ያ</cbase><notation>ር</notation>፡ደ<cbase>ጋ</cbase><notation>ሊ</notation>፡ወ<cbase>ድ</cbase><notation>ሊ </notation>ድቅ<cbase>ስ</cbase><notation>ዋ᎙</notation>፡ዘፈ<br/>
    የ<cbase>ሱ</cbase><notation>᎓</notation><cbase>ስ</cbase><notation>ሠ</notation>፡ክርስ<cbase>ቶ</cbase><notation>ሊ </notation>ስ፡<cbase>ኮ</cbase><notation>᎖</notation><cbase>ነ</cbase><notation>ነቢ </notation>፡እስ<cbase>መ</cbase><notation>ከመ</notation>፡እም<cbase>ተ</cbase><notation>᎖</notation><cbase>ረ</cbase><notation>᎘</notation>ፈ፡<br/>
  </beit>
  <beit>
    <marker>ሮ</marker><dfn>አፍቂሮ፡</dfn>
    ዚአ<cbase>ሁ</cbase><notation>ዓለ᎙</notation>፡ነ<cbase>ሣ</cbase><notation>᎑</notation>እ<cbase>ነ</cbase><notation>ቃ</notation>፡<cbase>ደ</cbase><notation>᎑</notation><cbase>ጋ</cbase><notation>ብራ</notation>፡በ<cbase>ዲ</cbase><notation>᎐</notation><cbase>በ</cbase><notation>᎖</notation>፡ደ<cbase>ጋ</cbase><notation>ረየ</notation>፡<haleita><marker>በ<span class="rubricate">፪</marker><dfn></dfn></haleita>ካ<cbase>ህ</cbase><notation>ቡር</notation>ን፡<cbase>ወ</cbase><notation>ዘቦ</notation><br/>
    ነቢ<cbase>ይ</cbase><notation>ሰ</notation>፡ወን<cbase>ጌ</cbase><notation>᎑</notation>ላ<cbase>ዊ</cbase><notation>ው</notation>፡<cbase>መ</cbase><notation></notation>ጥምቅ፡<sereyu><abbr><cbase>ቃ</cbase></abbr><notation>፴</notation><abbr>ለ</abbr>፡ዓ<abbr>ዋ<cbase>ዲ</cbase></abbr><notation><marker>ረዩ</marker></notation><dfn>ቃለ&#x22ef;ዋዲ</dfn></sereyu>፡<br/>
    ዘይ<cbase>ሰ</cbase><notation>ይ</notation>ብክ፡በ<cbase>ገ</cbase><notation>᎐</notation>ደ<cbase>ም</cbase><notation>ር</notation>፡<haleita><marker>በ<span class="rubricate">፪</span><dfn></dfn></haleita>ካ<cbase>ህ</cbase><notation>᎑</notation><cbase>ን</cbase><notation>ባኡ᎙</notation>፡ወነ<cbase>ቢ</cbase><notation>᎖</notation>ይ</cbase><notation>ጸል</notation>፡<br/>
    ወን<cbase>ጌ</cbase><notation>ቡር</notation>ላ<cbase>ዊ</cbase><notation>ነነ</notation>፡<cbase>መ</cbase><notation>᎐</notation>ጥም<cbase>ቀ</cbase><notation>ሉ᎙</notation>፡ቃ<cbase>ለ</cbase><notation>᎐</notation>፡ዓዋ<cbase>ዲ</cbase><notation>ዚና</notation>፡ዘይስ<br/>
  </beit>
  <beit>
    <marker>ዘዮ</marker><dfn>ዘዮም፡መስቀል፡</dfn>
    <cbase>ብ</cbase><notation>᎐</notation>ክ፡በንደ<cbase>ም</cbase><notation>ር</notation>፡<haleita><marker>በ<span class="rubricate">፪</span></marker><dfn></dfn></haleita><cbase>ካ</cbase><notation>᎑</notation><cbase>ህን</cbase><notation>ብራ</notation>፡<cbase>ወ</cbase><notation>᎐</notation><cbase>ነ</cbase><notation>᎖</notation>ቢይ</cbase><notation>ነየ</notation>፡ወን<cbase>ጌ</cbase><notation>᎑</notation><br/>
    ላ<cbase>ዊ</cbase><notation>ው</notation>፡<cbase>መ</cbase><notation>᎑</notation>ጥም<cbase>ቀ</cbase><notation>ው</notation>፡<cbase>ቃ</cbase><notation>ከመ </notation>ለ፡<cbase>ዓ</cbase><notation>᎖</notation>ዋ<cbase>ዲ</cbase><notation>ንጋ</notation>፡ዘይ<cbase>ሰ</cbase><notation>ብራ</notation>ብክ፡<cbase>በ</cbase><notation>᎐</notation>ገ<br/>
  </beit>
  <beit>
    <marker>ጣ</marker><dfn>ዕጣነ፡ሞገር፡ወደሞ፡ክቡረ፡</dfn>
    ደ<cbase>ም</cbase><notation>ኔሃ</notation>፡<haleita><marker>በ<span class="rubricate">፪</span></marker><dfn>TBD</dfn></haleita></div>ዮ<cbase>ሐን</cbase><notation>ይሠ </notation>ስ፡<cbase>ክ</cbase><notation>᎓</notation><cbase>ቡር</cbase><notation style="text-align: right;">ንከ᎖</notation>፡አር<cbase>ኩ</cbase><notation>ነዋ</notation>፡ሰመር<br/>
    <cbase>ዓ</cbase><notation>᎐</notation><cbase>ዊ</cbase><notation>ግዑ </notation>፡ዮ<cbase>ሐ</cbase><notation>᎔</notation>ን<cbase>ስ</cbase><notation>ርሡ </notation>፡ብእ<cbase>ሲ</cbase><notation>᎔</notation>፡ወንጌላ<cbase>ዊ</cbase><notation>ር</notation>፡<cbase>ዮ</cbase><notation>᎑</notation><cbase>ሐን</cbase><notation>አጻ</notation>ስ፡<br/>
    ወአዝ<cbase>ማ</cbase><notation>᎑</notation><cbase>ዱ</cbase><notation>፴</notation>፡ዘሥ<cbase>ጋ</cbase><notation>᎖</notation>፡ተስም<cbase>የ</cbase><notation>ሰን </notation>፡ዮ<cbase>ሐ</cbase><notation>ይሠ</notation>ንስ፡<cbase>አ</cbase><notation>᎐</notation><br/>
    ጥመ<cbase>ቶ</cbase><notation>ዚኦ </notation>፡ዮ<cbase>ሐ</cbase><notation>᎑</notation><cbase>ን</cbase><notation>᎒</notation>ስ፡ለ<cbase>ኢ</cbase><notation>᎐</notation>የሱ<cbase>ስ</cbase><notation>ዑ</notation>፡ዮ<cbase>ሐ</cbase><notation>ፒር</notation><cbase>ንስ</cbase><notation>ርሡ</notation>፡ወ
  </beit>
</chant>
</div>
</div>
</script>
</div>
</section>

</section>

</body>
</html>
